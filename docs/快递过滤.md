下面方案已去除“银行/验证码/支付”等排除字段，完全靠**行为特征 + 发件人 + 语义结构**来判断快递短信，保证：

* 快递短信 ≥ 95% 命中率
* 误识别率远低于负向过滤
* 适配你未来的分类系统（不会影响银行/支付类标签）

---

# 1）发件人信号（来源可信度）

快递短信来源的特点非常明显，是行业里最稳定的特征。

发件人必须满足任意一个：

### **1.1 品牌识别**

短信头、签名、品牌词：

```
顺丰、中通、圆通、韵达、申通、极兔、菜鸟、京东、邮政、EMS
```

只要出现品牌词即可进入下一步，而不是直接判定。

---

### **1.2 号码格式识别**

快递行业常用企业端口：

* 10xxxx
* 1069xxxxxx
* 95xxxx
* LBxxxx (部分虚拟运营商渠道)

你必须判断：

```
是否为“企业端口短信”
```

**普通手机号**（如 183xxxxx）99% 不会发送取件码。

---

# 2）快递语义信号（核心过滤）

这部分是保证“不多不漏”的关键。

必须同时出现：

### **2.1 快递动作词（至少 1 个）**

```
取件 / 取件码 / 凭码 / 领取 / 提货 / 取货 / 领取码
```

### **2.2 场景地点（至少 1 个）**

```
快递柜 / 驿站 / 菜鸟 / 丰巢 / 代收点 / 柜机 / 站点
```

如果短信不包含这两个维度 → 100% 不是快递取件短信。

**示例：**

“凭 123456 到丰巢柜机取件”
→ 动作“取件” + 场景“丰巢柜机”

“您的包裹已到【菜鸟驿站】，凭取件码 543210 领取”
→ 动作“领取” + 场景“菜鸟驿站”

---

# 3）取件码格式识别（第三重验证）

取件码的行业规律非常明确：

### **规则：必须出现一段 4~6 位连续数字**

```
[0-9]{4,6}
```

但不代表所有数字都是取件码，所以加上：

### **数字前后 15 字符内必须包含【动作词】**

如：

* “取件码是  123456”
* “凭 8888 取件”
* “取货凭证 549103”

这个结构非常稳定，几乎不会误识别。

---

# 4）行业规则：快递短信几乎不会有太多数字

营销短信和银行短信特点是：

* 各种金额
* 固定 4~6 位验证码
* 多段数字混杂
* 一条短信可能出现好几段数字

快递短信几乎只包含 **1 段 4~6 位数字**。

你可以加一条强规则：

```
如果短信中存在超过 2 组 4~6 位数字  
→ 排除快递取件码（通常是营销 or 银行）
```

这条规则可以极大减少误识别。

---

# 5）综合评分模型（推荐）

如果你不做 AI，也可以手写一个“规则评分模型”，未来可加类别权重。

例如：

| 信号类型                   | 分值 |
| ---------------------- | -- |
| 发件人属于企业端口 +20          |    |
| 发件人包含快递品牌名 +40         |    |
| 包含快递动作词（取件/凭码等） +30    |    |
| 包含场景地点词（驿站/柜机等） +20    |    |
| 出现 4~6 位数字 +20         |    |
| 4~6 位数字附近有“取件码/凭码” +40 |    |
| 数字超过 2 组 -30           |    |

最后判断：

```
score ≥ 80   → 快递取件短信
score < 80   → 非快递短信
```

这样做的好处：

* 不依赖负向过滤词
* 不误伤银行/支付/验证码类短信
* 精度更高
* 未来扩展到多标签体系时无需动规则

---

# 📌 最终效果：

### ✔ 不漏取件码（因为动作词 + 场景词双重过滤）

### ✔ 几乎不误识别银行/支付短信（因为结构不同 + 数字过多）

### ✔ 与未来的短信标签系统完全兼容

### ✔ 可直接写入代码（无 NLP 模型也能实现高准确）

---

