# 新项目文件复制清单

## 目标目录
`D:\tools\python\mypro\jmq`

---

## 必须复制的文件

### 1. 核心脚本
- ✅ `tools/generate_activation_code.py` - 激活码生成脚本

### 2. 文档文件
- ✅ `docs/激活码生成系统说明.md` - 完整的系统说明文档
- ✅ `docs/加密.md` - 加密协议详细说明

---

## 可选复制的文件（参考）

### 参考文档
- `docs/流程.md` - 激活流程说明（可选）

---

## 不需要复制的文件

### ❌ 密钥文件
- `tools/activation.key` - **不要复制**，在新项目中需要重新生成新的密钥

### ❌ Android 代码
- `android/` 整个目录 - 这是用户端验证代码，不需要在生成工具项目中

### ❌ 其他文件
- 所有HTML mock文件
- 日志文件
- 其他与激活码生成无关的文件

---

## 新项目需要创建的文件

### 1. 项目基础文件
```
jmq/
├── tools/
│   ├── generate_activation_code.py  # 从当前项目复制
│   └── activation.key                # 在新项目中生成（不要复制旧密钥）
├── docs/
│   ├── 激活码生成系统说明.md        # 从当前项目复制
│   └── 加密.md                       # 从当前项目复制
├── requirements.txt                  # 新建：Python依赖
├── README.md                         # 新建：项目说明
└── .gitignore                        # 新建：Git忽略文件
```

### 2. requirements.txt 内容
```txt
cryptography>=41.0.0
```

### 3. .gitignore 内容
```
# 密钥文件（敏感信息，不要提交）
tools/activation.key
*.key

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
venv/
env/
ENV/

# 生成的文件
*.csv
*.log

# IDE
.vscode/
.idea/
*.swp

# OS
.DS_Store
Thumbs.db
```

---

## 复制步骤

### 方法1: 使用 PowerShell 脚本（推荐）

创建复制脚本 `copy_files.ps1`:
```powershell
# 设置源目录和目标目录
$sourceDir = "D:\tools\python\mypro\sms_agent"
$targetDir = "D:\tools\python\mypro\jmq"

# 创建目标目录结构
New-Item -ItemType Directory -Force -Path "$targetDir\tools"
New-Item -ItemType Directory -Force -Path "$targetDir\docs"

# 复制核心脚本
Copy-Item "$sourceDir\tools\generate_activation_code.py" -Destination "$targetDir\tools\generate_activation_code.py"

# 复制文档
Copy-Item "$sourceDir\docs\激活码生成系统说明.md" -Destination "$targetDir\docs\激活码生成系统说明.md"
Copy-Item "$sourceDir\docs\加密.md" -Destination "$targetDir\docs\加密.md"
Copy-Item "$sourceDir\docs\流程.md" -Destination "$targetDir\docs\流程.md"

Write-Host "文件复制完成！" -ForegroundColor Green
Write-Host "目标目录: $targetDir" -ForegroundColor Green
```

### 方法2: 手动复制

1. 创建目录结构：
   ```
   D:\tools\python\mypro\jmq\
   ├── tools\
   └── docs\
   ```

2. 复制文件：
   - `tools/generate_activation_code.py` → `jmq/tools/generate_activation_code.py`
   - `docs/激活码生成系统说明.md` → `jmq/docs/激活码生成系统说明.md`
   - `docs/加密.md` → `jmq/docs/加密.md`

3. 生成新的密钥文件：
   ```bash
   cd D:\tools\python\mypro\jmq\tools
   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())" > activation.key
   ```

4. 创建 `requirements.txt`:
   ```bash
   cd D:\tools\python\mypro\jmq
   echo cryptography>=41.0.0 > requirements.txt
   ```

---

## 重要提醒

### ⚠️ 密钥管理
1. **不要复制旧的密钥文件** (`tools/activation.key`)
2. 在新项目中生成新的密钥文件
3. 确保密钥文件在 `.gitignore` 中，不要提交到 Git
4. 如果新项目要和原APP使用相同的密钥，可以手动复制密钥内容（但建议用新密钥）

### ✅ 验证复制
复制完成后，验证：
```bash
cd D:\tools\python\mypro\jmq
python tools/generate_activation_code.py --help
```

如果显示帮助信息，说明复制成功。

---

## 快速开始

复制完成后，在新项目中：

1. **安装依赖**:
   ```bash
   cd D:\tools\python\mypro\jmq
   pip install -r requirements.txt
   ```

2. **生成密钥**（如果还没有）:
   ```bash
   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())" > tools/activation.key
   ```

3. **测试生成激活码**:
   ```bash
   python tools/generate_activation_code.py --device-id "test_device_id" --max-activations 3
   ```

---

## 文件清单总结

| 文件 | 来源路径 | 目标路径 | 是否必须 |
|------|---------|---------|---------|
| `generate_activation_code.py` | `tools/` | `jmq/tools/` | ✅ 是 |
| `激活码生成系统说明.md` | `docs/` | `jmq/docs/` | ✅ 是 |
| `加密.md` | `docs/` | `jmq/docs/` | ✅ 是 |
| `流程.md` | `docs/` | `jmq/docs/` | ⭕ 可选 |
| `activation.key` | `tools/` | - | ❌ 不复制，重新生成 |
| `requirements.txt` | - | `jmq/` | ✅ 新建 |
| `.gitignore` | - | `jmq/` | ✅ 新建 |
| `README.md` | - | `jmq/` | ✅ 新建 |

