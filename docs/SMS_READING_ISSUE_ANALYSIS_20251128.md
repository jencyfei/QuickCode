# çŸ­ä¿¡è¯»å–ä¸è¯†åˆ«é—®é¢˜åˆ†æ - 2025-11-28

## ğŸ” é—®é¢˜æè¿°

**çŸ­ä¿¡ä¿¡æ¯**ï¼š
- å‘ä»¶äººï¼š10684å¼€å¤´ï¼ˆèœé¸Ÿé©¿ç«™ï¼‰
- æ—¶é—´ï¼š11æœˆ28æ—¥ 19ç‚¹02åˆ†
- å†…å®¹ï¼šã€èœé¸Ÿé©¿ç«™ã€‘æ‚¨çš„åŒ…è£¹å·²åˆ°ç«™ï¼Œå‡­9-5-5038åˆ°éƒ‘å·å¸‚åŒ—æ–‡é›…å°åŒº6å·æ¥¼102åº—å–ä»¶ã€‚
- çŠ¶æ€ï¼š**æœªè¢«ç¨‹åºè¯†åˆ«**ï¼ˆçŸ­ä¿¡åˆ—è¡¨ä¸­æœªæ˜¾ç¤ºï¼Œå¿«é€’å–ä»¶ç ä¸­æœªæ˜¾ç¤ºï¼‰

**å·²çŸ¥æ¡ä»¶**ï¼š
- âœ… æƒé™å·²æˆäºˆï¼ˆREAD_SMSï¼‰
- âš ï¸ ä¹‹å‰æåˆ° `content://sms` è·å–å¯èƒ½æœ‰ç¼ºå¤±

---

## ğŸ“Š ä»£ç æµç¨‹åˆ†æ

### 1. çŸ­ä¿¡è¯»å–æµç¨‹

```
ExpressScreen (å¿«é€’é¡µé¢)
    â†“
SmsReader.readLatestSms(50000)
    â†“
SmsReader.readAllSms(limit=50000)
    â†“
readSmsPageByDate() [åˆ†é¡µè¯»å–ï¼Œæ¯é¡µ200æ¡]
    â†“
content://sms æŸ¥è¯¢
    â†“
ExpressExtractor.extractAllExpressInfo()
    â†“
ExpressCompanyDetector.detect() [è¯†åˆ«å¿«é€’å…¬å¸]
    â†“
extractAllPickupCodes() [æå–å–ä»¶ç ]
```

### 2. å…³é”®ä»£ç ä½ç½®

#### 2.1 çŸ­ä¿¡è¯»å– (`SmsReader.kt`)

**URIé€‰æ‹©** (ç¬¬224è¡Œ):
```kotlin
val allSmsUri = Uri.parse("content://sms")
```

**æŸ¥è¯¢å­—æ®µ** (ç¬¬255-261è¡Œ):
```kotlin
arrayOf(
    Telephony.Sms._ID,
    Telephony.Sms.ADDRESS,    // å‘ä»¶äºº
    Telephony.Sms.BODY,       // çŸ­ä¿¡å†…å®¹
    Telephony.Sms.DATE,       // æ—¶é—´æˆ³
    Telephony.Sms.TYPE        // çŸ­ä¿¡ç±»å‹ï¼ˆè¯»å–äº†ï¼Œä½†æœªè¿‡æ»¤ï¼‰
)
```

**æ’åºæ–¹å¼** (ç¬¬264è¡Œ):
```kotlin
"${Telephony.Sms.DATE} DESC, ${Telephony.Sms._ID} DESC LIMIT $limit"
```
- âœ… ä»æœ€æ–°å¼€å§‹è¯»å–ï¼ˆDESCï¼‰
- âš ï¸ å¦‚æœ11æœˆ28æ—¥19:02çš„çŸ­ä¿¡æ¯”è¾ƒæ—©ï¼Œå¯èƒ½åœ¨åé¢å‡ é¡µ

**åˆ†é¡µé€»è¾‘** (ç¬¬63-126è¡Œ):
```kotlin
while (hasMore && smsList.size < limit) {
    // æ¯é¡µ200æ¡
    val pageLimit = minOf(PAGE_SIZE, limit - smsList.size)
    // è¯»å–ä¸‹ä¸€é¡µ
    val pageSmsWithId = readSmsPageByDate(lastDate, lastReadMinId, pageLimit)
    
    // å¦‚æœè¿”å›ç©ºï¼Œåœæ­¢è¯»å–
    if (pageSmsWithId.isEmpty()) {
        hasMore = false
        break
    }
    
    // å¦‚æœè¿”å›æ•°é‡å°‘äºpageLimitï¼Œä¹Ÿåœæ­¢
    if (pageSmsWithId.size < pageLimit) {
        hasMore = false
        break
    }
}
```

---

## ğŸ” å¯èƒ½å¯¼è‡´çŸ­ä¿¡ç¼ºå¤±çš„åŸå› 

### åŸå› 1ï¼šçŸ­ä¿¡ç±»å‹è¿‡æ»¤é—®é¢˜ âš ï¸ **é«˜å¯èƒ½æ€§**

**é—®é¢˜æè¿°**ï¼š
- ä»£ç è¯»å–äº† `TYPE` å­—æ®µï¼Œä½†**æ²¡æœ‰æ˜ç¡®è¿‡æ»¤**
- AndroidçŸ­ä¿¡ç±»å‹ï¼š
  - `TYPE = 1`: æ”¶ä»¶ç®±ï¼ˆinboxï¼‰
  - `TYPE = 2`: å·²å‘é€ï¼ˆsentï¼‰
  - `TYPE = 3`: è‰ç¨¿ï¼ˆdraftï¼‰
  - `TYPE = 4`: å‘ä»¶ç®±ï¼ˆoutboxï¼‰
  - `TYPE = 5`: å¤±è´¥ï¼ˆfailedï¼‰
  - `TYPE = 6`: å¾…å‘é€ï¼ˆqueuedï¼‰

**å¯èƒ½çš„æƒ…å†µ**ï¼š
- 10684å¼€å¤´çš„çŸ­ä¿¡å¯èƒ½è¢«ç³»ç»Ÿæ ‡è®°ä¸ºç‰¹æ®Šç±»å‹
- æŸäº›æœåŠ¡ç±»çŸ­ä¿¡å¯èƒ½ä¸åœ¨æ ‡å‡†æ”¶ä»¶ç®±ï¼ˆTYPE=1ï¼‰ä¸­
- ç³»ç»Ÿå¯èƒ½å°†æŸäº›çŸ­ä¿¡å­˜å‚¨åœ¨ç‰¹æ®Šä½ç½®

**éªŒè¯æ–¹æ³•**ï¼š
```kotlin
// åœ¨è¯»å–æ—¶è®°å½•æ‰€æœ‰çŸ­ä¿¡ç±»å‹
val typeCount = smsList.groupBy { it.type }.mapValues { it.value.size }
AppLogger.d(TAG, "çŸ­ä¿¡ç±»å‹ç»Ÿè®¡: $typeCount")

// ä¸“é—¨æŸ¥è¯¢TYPE=1çš„çŸ­ä¿¡
val inboxUri = Uri.parse("content://sms/inbox")
```

---

### åŸå› 2ï¼šcontent://sms URIé™åˆ¶ âš ï¸ **é«˜å¯èƒ½æ€§**

**é—®é¢˜æè¿°**ï¼š
- ä»£ç ä½¿ç”¨ `content://sms` è¯»å–æ‰€æœ‰çŸ­ä¿¡
- ä½†ä¸åŒAndroidç‰ˆæœ¬å’Œå‚å•†å¯èƒ½æœ‰å·®å¼‚ï¼š
  - `content://sms` - ç†è®ºä¸ŠåŒ…å«æ‰€æœ‰çŸ­ä¿¡
  - `content://sms/inbox` - ä»…æ”¶ä»¶ç®±
  - `content://sms/sent` - ä»…å·²å‘é€
  - `content://sms/` - æŸäº›è®¾å¤‡å¯èƒ½æœ‰ç‰¹æ®Šå¤„ç†

**å¯èƒ½çš„æƒ…å†µ**ï¼š
- æŸäº›çŸ­ä¿¡å¯èƒ½åªåœ¨ `content://sms/inbox` ä¸­
- æŸäº›å‚å•†ï¼ˆå¦‚åä¸ºã€å°ç±³ï¼‰å¯èƒ½å¯¹ `content://sms` æœ‰è®¿é—®é™åˆ¶
- ç³»ç»Ÿå¯èƒ½éšè—æŸäº›ç±»å‹çš„çŸ­ä¿¡ï¼ˆå¦‚åƒåœ¾çŸ­ä¿¡ï¼‰

**éªŒè¯æ–¹æ³•**ï¼š
```kotlin
// åŒæ—¶æŸ¥è¯¢å¤šä¸ªURI
val uris = listOf(
    Uri.parse("content://sms"),
    Uri.parse("content://sms/inbox"),
    Uri.parse("content://sms/all")  // æŸäº›è®¾å¤‡æ”¯æŒ
)
```

---

### åŸå› 3ï¼šåˆ†é¡µæœºåˆ¶æå‰åœæ­¢ âš ï¸ **ä¸­ç­‰å¯èƒ½æ€§**

**é—®é¢˜æè¿°**ï¼š
- åˆ†é¡µä»æœ€æ–°å¼€å§‹è¯»å–ï¼ˆDATE DESCï¼‰
- å¦‚æœ11æœˆ28æ—¥19:02çš„çŸ­ä¿¡æ¯”è¾ƒæ—©ï¼Œå¯èƒ½åœ¨åé¢å‡ é¡µ
- å¦‚æœæŸé¡µè¿”å›ç©ºæˆ–æ•°é‡ä¸è¶³ï¼Œä¼šæå‰åœæ­¢

**å¯èƒ½çš„æƒ…å†µ**ï¼š
- å¦‚æœç³»ç»Ÿè¿”å›çš„çŸ­ä¿¡æ•°é‡å°‘äº200æ¡/é¡µï¼Œå¯èƒ½æå‰åœæ­¢
- å¦‚æœæ—¶é—´æˆ³ç›¸åŒï¼Œå¯èƒ½è·³è¿‡æŸäº›çŸ­ä¿¡
- å¦‚æœè¾¾åˆ°50000æ¡é™åˆ¶ï¼Œåç»­çŸ­ä¿¡æ— æ³•è¯»å–

**éªŒè¯æ–¹æ³•**ï¼š
```kotlin
// è®°å½•æ¯é¡µè¯»å–æƒ…å†µ
AppLogger.d(TAG, "ç¬¬ $pageNum é¡µ: è¯·æ±‚ $pageLimit æ¡ï¼Œå®é™… ${pageSmsWithId.size} æ¡")
AppLogger.d(TAG, "æœ€åä¸€æ¡æ—¶é—´: ${if (lastDate != null) Date(lastDate) else "null"}")

// æ£€æŸ¥æ˜¯å¦æå‰åœæ­¢
if (pageSmsWithId.size < pageLimit && smsList.size < limit) {
    AppLogger.w(TAG, "âš ï¸ å¯èƒ½æå‰åœæ­¢: è¿”å› ${pageSmsWithId.size} < è¯·æ±‚ $pageLimit")
}
```

---

### åŸå› 4ï¼šæ—¶é—´æˆ³é—®é¢˜ âš ï¸ **ä¸­ç­‰å¯èƒ½æ€§**

**é—®é¢˜æè¿°**ï¼š
- çŸ­ä¿¡æ—¶é—´ï¼š11æœˆ28æ—¥ 19:02
- å¦‚æœçŸ­ä¿¡çš„æ—¶é—´æˆ³å¼‚å¸¸ï¼ˆå¦‚æœªæ¥æ—¶é—´ã€å¼‚å¸¸æ ¼å¼ï¼‰ï¼Œå¯èƒ½å½±å“æ’åºå’Œåˆ†é¡µ

**å¯èƒ½çš„æƒ…å†µ**ï¼š
- çŸ­ä¿¡æ—¶é—´æˆ³å¯èƒ½è¢«ç³»ç»Ÿä¿®æ”¹
- æŸäº›çŸ­ä¿¡å¯èƒ½æ²¡æœ‰æ­£ç¡®çš„æ—¶é—´æˆ³
- æ—¶åŒºé—®é¢˜å¯èƒ½å¯¼è‡´æ—¶é—´åå·®

**éªŒè¯æ–¹æ³•**ï¼š
```kotlin
// æ£€æŸ¥æ—¶é—´æˆ³æ˜¯å¦å¼‚å¸¸
if (date > System.currentTimeMillis() || date < 0) {
    AppLogger.w(TAG, "âš ï¸ å¼‚å¸¸æ—¶é—´æˆ³: $date (${Date(date)})")
}

// ä¸“é—¨æŸ¥è¯¢11æœˆ28æ—¥çš„çŸ­ä¿¡
val targetDate = SimpleDateFormat("yyyy-MM-dd").parse("2025-11-28")
val startTime = targetDate.time
val endTime = startTime + 86400000L  // 24å°æ—¶
val targetSms = readSmsInRange(startTime, endTime)
```

---

### åŸå› 5ï¼šæƒé™æˆ–ç³»ç»Ÿé™åˆ¶ âš ï¸ **ä½å¯èƒ½æ€§**

**é—®é¢˜æè¿°**ï¼š
- è™½ç„¶ç”¨æˆ·è¯´æƒé™å·²æˆäºˆï¼Œä½†å¯èƒ½å­˜åœ¨å…¶ä»–é™åˆ¶ï¼š
  - æŸäº›å‚å•†å¯èƒ½é™åˆ¶ç¬¬ä¸‰æ–¹åº”ç”¨è®¿é—®æŸäº›çŸ­ä¿¡
  - æŸäº›çŸ­ä¿¡å¯èƒ½è¢«ç³»ç»Ÿåº”ç”¨æ ‡è®°ä¸º"æ•æ„Ÿ"
  - æŸäº›çŸ­ä¿¡å¯èƒ½éœ€è¦ç‰¹æ®Šæƒé™

**å¯èƒ½çš„æƒ…å†µ**ï¼š
- åä¸º/å°ç±³ç­‰å‚å•†å¯èƒ½æœ‰é¢å¤–çš„æƒé™é™åˆ¶
- æŸäº›æœåŠ¡ç±»çŸ­ä¿¡ï¼ˆå¦‚10684ï¼‰å¯èƒ½è¢«ç³»ç»Ÿç‰¹æ®Šå¤„ç†
- Android 10+ å¯èƒ½å¯¹çŸ­ä¿¡è®¿é—®æœ‰æ›´ä¸¥æ ¼çš„é™åˆ¶

**éªŒè¯æ–¹æ³•**ï¼š
```kotlin
// æ£€æŸ¥æƒé™è¯¦æƒ…
val permissions = listOf(
    Manifest.permission.READ_SMS,
    Manifest.permission.READ_PHONE_STATE  // æŸäº›è®¾å¤‡å¯èƒ½éœ€è¦
)
permissions.forEach { permission ->
    val granted = ContextCompat.checkSelfPermission(context, permission)
    AppLogger.d(TAG, "æƒé™ $permission: ${if (granted == PERMISSION_GRANTED) "å·²æˆäºˆ" else "æœªæˆäºˆ"}")
}
```

---

### åŸå› 6ï¼šçŸ­ä¿¡å†…å®¹ä¸ºç©ºæˆ–æ ¼å¼å¼‚å¸¸ âš ï¸ **ä½å¯èƒ½æ€§**

**é—®é¢˜æè¿°**ï¼š
- å¦‚æœçŸ­ä¿¡å†…å®¹ä¸ºç©ºæˆ–æ ¼å¼å¼‚å¸¸ï¼Œå¯èƒ½è¢«è·³è¿‡
- æŸäº›çŸ­ä¿¡å¯èƒ½æ˜¯å¤šåª’ä½“çŸ­ä¿¡ï¼ˆMMSï¼‰ï¼Œå†…å®¹å¯èƒ½åœ¨BODYå­—æ®µä¸ºç©º

**éªŒè¯æ–¹æ³•**ï¼š
```kotlin
// æ£€æŸ¥å†…å®¹æ˜¯å¦ä¸ºç©º
if (body.isEmpty()) {
    AppLogger.w(TAG, "âš ï¸ çŸ­ä¿¡å†…å®¹ä¸ºç©º: å‘ä»¶äºº=$address, æ—¶é—´=${Date(date)}")
    // æ£€æŸ¥æ˜¯å¦æ˜¯MMS
    // MMSçš„URIå¯èƒ½æ˜¯ content://mms
}
```

---

### åŸå› 7ï¼šè¯†åˆ«é€»è¾‘é—®é¢˜ âœ… **å·²ä¿®å¤ä½†ä»éœ€éªŒè¯**

**é—®é¢˜æè¿°**ï¼š
- ä¹‹å‰ä»£ç ä¸æ”¯æŒ10684å‘ä»¶äººè¯†åˆ«
- âœ… å·²æ·»åŠ "10684"åˆ°è¯†åˆ«è§„åˆ™
- âš ï¸ ä½†éœ€è¦éªŒè¯æ˜¯å¦çœŸçš„è¢«è¯»å–åˆ°

**éªŒè¯æ–¹æ³•**ï¼š
```kotlin
// ä¸“é—¨æŸ¥æ‰¾10684å¼€å¤´çš„çŸ­ä¿¡
val targetSms = smsList.filter { 
    it.sender.startsWith("10684") || 
    it.sender.contains("10684")
}
AppLogger.d(TAG, "æ‰¾åˆ° ${targetSms.size} æ¡10684å¼€å¤´çš„çŸ­ä¿¡")
targetSms.forEach { sms ->
    AppLogger.d(TAG, "  - å‘ä»¶äºº=${sms.sender}, å†…å®¹=${sms.content.take(50)}, æ—¶é—´=${sms.receivedAt}")
}
```

---

## ğŸ”§ è¯Šæ–­å»ºè®®ï¼ˆä¸ä¿®æ”¹ä»£ç ï¼‰

### æ­¥éª¤1ï¼šæŸ¥çœ‹æ—¥å¿—

1. **æ‰“å¼€Logcat**ï¼Œè¿‡æ»¤å…³é”®è¯ï¼š`SmsReader`ã€`ExpressExtractor`
2. **æŸ¥æ‰¾ä»¥ä¸‹ä¿¡æ¯**ï¼š
   - æ€»å…±è¯»å–äº†å¤šå°‘æ¡çŸ­ä¿¡
   - è¯»å–äº†å¤šå°‘é¡µ
   - æ˜¯å¦æå‰åœæ­¢
   - æ˜¯å¦æœ‰10684å¼€å¤´çš„çŸ­ä¿¡
   - æ˜¯å¦æœ‰"èœé¸Ÿé©¿ç«™"å…³é”®è¯çš„çŸ­ä¿¡

### æ­¥éª¤2ï¼šæ‰‹åŠ¨æŸ¥è¯¢æ•°æ®åº“

ä½¿ç”¨ADBå‘½ä»¤æŸ¥è¯¢çŸ­ä¿¡æ•°æ®åº“ï¼š

```bash
# æŸ¥è¯¢æ‰€æœ‰çŸ­ä¿¡æ•°é‡
adb shell content query --uri content://sms --projection _id,address,body,date,type

# æŸ¥è¯¢æ”¶ä»¶ç®±çŸ­ä¿¡æ•°é‡
adb shell content query --uri content://sms/inbox --projection _id,address,body,date,type

# æŸ¥è¯¢11æœˆ28æ—¥çš„çŸ­ä¿¡
adb shell content query --uri content://sms --where "date>=1732723200000 AND date<=1732809600000"

# æŸ¥è¯¢10684å¼€å¤´çš„çŸ­ä¿¡
adb shell content query --uri content://sms --where "address LIKE '%10684%'"
```

### æ­¥éª¤3ï¼šå¯¹æ¯”ç³»ç»ŸçŸ­ä¿¡åº”ç”¨

1. æ‰“å¼€ç³»ç»ŸçŸ­ä¿¡åº”ç”¨
2. æŸ¥æ‰¾11æœˆ28æ—¥19:02çš„çŸ­ä¿¡
3. è®°å½•ï¼š
   - å‘ä»¶äººå®Œæ•´å·ç 
   - çŸ­ä¿¡ç±»å‹ï¼ˆæ”¶ä»¶ç®±/å…¶ä»–ï¼‰
   - çŸ­ä¿¡ID
   - æ—¶é—´æˆ³

### æ­¥éª¤4ï¼šæ£€æŸ¥æƒé™çŠ¶æ€

```bash
# æ£€æŸ¥åº”ç”¨æƒé™
adb shell dumpsys package com.sms.tagger | grep permission

# æ£€æŸ¥çŸ­ä¿¡æƒé™çŠ¶æ€
adb shell appops get com.sms.tagger READ_SMS
```

---

## ğŸ“‹ å¯èƒ½çš„é—®é¢˜åœºæ™¯

### åœºæ™¯1ï¼šçŸ­ä¿¡æœªè¢«è¯»å–ï¼ˆæœ€å¯èƒ½ï¼‰

**ç—‡çŠ¶**ï¼š
- æ—¥å¿—ä¸­æ‰¾ä¸åˆ°10684å¼€å¤´çš„çŸ­ä¿¡
- æ—¥å¿—ä¸­æ‰¾ä¸åˆ°"9-5-5038"å–ä»¶ç 
- ä½†ç³»ç»ŸçŸ­ä¿¡åº”ç”¨ä¸­å¯ä»¥æ‰¾åˆ°

**å¯èƒ½åŸå› **ï¼š
- `content://sms` URIæ— æ³•è®¿é—®è¯¥çŸ­ä¿¡
- çŸ­ä¿¡è¢«å­˜å‚¨åœ¨ç‰¹æ®Šä½ç½®
- åˆ†é¡µæœºåˆ¶æå‰åœæ­¢

**è¯Šæ–­æ–¹æ³•**ï¼š
- ä½¿ç”¨ADBç›´æ¥æŸ¥è¯¢æ•°æ®åº“
- æ£€æŸ¥çŸ­ä¿¡æ˜¯å¦åœ¨ `content://sms/inbox` ä¸­

---

### åœºæ™¯2ï¼šçŸ­ä¿¡è¢«è¯»å–ä½†æœªè¢«è¯†åˆ«

**ç—‡çŠ¶**ï¼š
- æ—¥å¿—ä¸­å¯ä»¥æ‰¾åˆ°10684å¼€å¤´çš„çŸ­ä¿¡
- æ—¥å¿—ä¸­å¯ä»¥æ‰¾åˆ°"èœé¸Ÿé©¿ç«™"å…³é”®è¯
- ä½†å–ä»¶ç æœªè¢«æå–

**å¯èƒ½åŸå› **ï¼š
- å–ä»¶ç æå–æ­£åˆ™è¡¨è¾¾å¼ä¸åŒ¹é…
- çŸ­ä¿¡å†…å®¹æ ¼å¼å¼‚å¸¸
- è¯†åˆ«é€»è¾‘æœ‰bug

**è¯Šæ–­æ–¹æ³•**ï¼š
- æ£€æŸ¥æ—¥å¿—ä¸­çš„çŸ­ä¿¡å®Œæ•´å†…å®¹
- éªŒè¯å–ä»¶ç æå–é€»è¾‘

---

### åœºæ™¯3ï¼šçŸ­ä¿¡è¢«è¯†åˆ«ä½†æœªè¢«æ˜¾ç¤º

**ç—‡çŠ¶**ï¼š
- æ—¥å¿—ä¸­å¯ä»¥æ‰¾åˆ°æå–çš„å¿«é€’ä¿¡æ¯
- ä½†ç•Œé¢ä¸Šæœªæ˜¾ç¤º

**å¯èƒ½åŸå› **ï¼š
- è¢«å»é‡é€»è¾‘è¿‡æ»¤
- è¢«é™åˆ¶ç­–ç•¥è¿‡æ»¤
- UIæ›´æ–°é—®é¢˜

**è¯Šæ–­æ–¹æ³•**ï¼š
- æ£€æŸ¥å»é‡é€»è¾‘
- æ£€æŸ¥é™åˆ¶ç­–ç•¥
- æ£€æŸ¥UIæ›´æ–°ä»£ç 

---

## ğŸ¯ å»ºè®®çš„ä¸‹ä¸€æ­¥æ“ä½œ

### 1. ç«‹å³è¯Šæ–­ï¼ˆä¸ä¿®æ”¹ä»£ç ï¼‰

1. âœ… æŸ¥çœ‹Logcatæ—¥å¿—ï¼Œç¡®è®¤çŸ­ä¿¡æ˜¯å¦è¢«è¯»å–
2. âœ… ä½¿ç”¨ADBæŸ¥è¯¢æ•°æ®åº“ï¼Œç¡®è®¤çŸ­ä¿¡æ˜¯å¦å­˜åœ¨
3. âœ… å¯¹æ¯”ç³»ç»ŸçŸ­ä¿¡åº”ç”¨ï¼Œè®°å½•çŸ­ä¿¡è¯¦ç»†ä¿¡æ¯

### 2. æ ¹æ®è¯Šæ–­ç»“æœå†³å®šä¿®å¤æ–¹æ¡ˆ

**å¦‚æœçŸ­ä¿¡æœªè¢«è¯»å–**ï¼š
- ä¿®æ”¹URIæŸ¥è¯¢æ–¹å¼ï¼ˆä½¿ç”¨ `content://sms/inbox`ï¼‰
- å¢åŠ å¤šä¸ªURIæŸ¥è¯¢
- ä¼˜åŒ–åˆ†é¡µæœºåˆ¶

**å¦‚æœçŸ­ä¿¡è¢«è¯»å–ä½†æœªè¢«è¯†åˆ«**ï¼š
- æ£€æŸ¥è¯†åˆ«è§„åˆ™
- æ£€æŸ¥å–ä»¶ç æå–é€»è¾‘
- æ·»åŠ è°ƒè¯•æ—¥å¿—

**å¦‚æœçŸ­ä¿¡è¢«è¯†åˆ«ä½†æœªè¢«æ˜¾ç¤º**ï¼š
- æ£€æŸ¥å»é‡é€»è¾‘
- æ£€æŸ¥è¿‡æ»¤é€»è¾‘
- æ£€æŸ¥UIæ›´æ–°

---

## ğŸ“ å‚è€ƒä¿¡æ¯

### AndroidçŸ­ä¿¡ç±»å‹å¸¸é‡

```kotlin
Telephony.TextBasedSmsColumns.MESSAGE_TYPE_INBOX = 1    // æ”¶ä»¶ç®±
Telephony.TextBasedSmsColumns.MESSAGE_TYPE_SENT = 2     // å·²å‘é€
Telephony.TextBasedSmsColumns.MESSAGE_TYPE_DRAFT = 3    // è‰ç¨¿
Telephony.TextBasedSmsColumns.MESSAGE_TYPE_OUTBOX = 4   // å‘ä»¶ç®±
Telephony.TextBasedSmsColumns.MESSAGE_TYPE_FAILED = 5   // å¤±è´¥
Telephony.TextBasedSmsColumns.MESSAGE_TYPE_QUEUED = 6   // å¾…å‘é€
```

### content://sms URIè¯´æ˜

- `content://sms` - æ‰€æœ‰çŸ­ä¿¡ï¼ˆç†è®ºä¸Šï¼‰
- `content://sms/inbox` - ä»…æ”¶ä»¶ç®±
- `content://sms/sent` - ä»…å·²å‘é€
- `content://sms/draft` - ä»…è‰ç¨¿
- `content://sms/outbox` - ä»…å‘ä»¶ç®±
- `content://sms/failed` - ä»…å¤±è´¥
- `content://sms/queued` - ä»…å¾…å‘é€

### æ—¶é—´æˆ³è®¡ç®—

11æœˆ28æ—¥ 19:02 å¯¹åº”çš„æ—¶é—´æˆ³ï¼š
```
2025-11-28 19:02:00
= 1732784520000 (æ¯«ç§’ï¼Œå‡è®¾æ˜¯2025å¹´)
```

---

**åˆ†ææ—¶é—´**: 2025-11-28  
**é—®é¢˜ç±»å‹**: çŸ­ä¿¡è¯»å–ä¸è¯†åˆ«  
**ä¸¥é‡çº§åˆ«**: ğŸ”´ é«˜ï¼ˆå½±å“æ ¸å¿ƒåŠŸèƒ½ï¼‰  
**ä¿®å¤éš¾åº¦**: ğŸŸ¡ ä¸­ç­‰ï¼ˆéœ€è¦è¯Šæ–­åå†ä¿®å¤ï¼‰

