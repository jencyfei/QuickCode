# APK 安装与测试指南

**版本**: 1.0.0  
**构建日期**: 2025-11-14  
**APK 文件**: `app-release-20251114.apk`  
**文件大小**: 约 8-10 MB  

---

## 📱 安装方法

### 方法 1: 使用 ADB 安装（推荐）

#### 前置条件
- 已安装 Android SDK Platform Tools
- 手机已连接到电脑
- 手机已启用开发者模式

#### 安装步骤

1. **连接手机**
   ```bash
   adb devices
   ```
   确认手机已连接

2. **安装 APK**
   ```bash
   adb install app-release-20251114.apk
   ```

3. **等待安装完成**
   ```
   Success
   ```

4. **启动应用**
   ```bash
   adb shell am start -n com.sms.tagger/.MainActivity
   ```

### 方法 2: 手机直接安装

1. **复制 APK 到手机**
   - 通过 USB 传输或云盘下载

2. **打开文件管理器**
   - 找到 `app-release-20251114.apk`

3. **点击安装**
   - 按照提示完成安装

4. **启动应用**
   - 在应用列表中找到"短信助手"

---

## 🔧 权限授予

### 首次启动时需要授予以下权限

#### 1. 短信读取权限
- **提示**: "短信助手想要访问您的短信"
- **操作**: 点击"允许"

#### 2. 通知权限
- **提示**: "短信助手想要发送通知"
- **操作**: 点击"允许"

#### 3. 存储权限
- **提示**: "短信助手想要访问您的文件"
- **操作**: 点击"允许"

### 手动授予权限

如果应用启动时没有提示，可以手动授予：

1. **打开设置**
   - 设置 > 应用 > 短信助手

2. **授予权限**
   - 权限 > 短信 > 允许
   - 权限 > 通知 > 允许
   - 权限 > 存储 > 允许

---

## ✅ 测试清单

### 快递日期分组功能

- [ ] **打开快递页面**
  - 应该看到按日期分组的快递列表
  - 每个分组显示日期和快递数量

- [ ] **折叠/展开功能**
  - 点击分组标题，应该折叠/展开
  - 箭头符号应该改变（▼/▶）

- [ ] **复制全部功能**
  - 点击"📋 复制全部"按钮
  - 所有取件码应该复制到剪贴板
  - 可以粘贴到其他应用验证

- [ ] **全部已取功能**
  - 点击"✓ 全部已取"按钮
  - 分组内所有快递应该标记为已取
  - 快递卡片应该显示已取状态

- [ ] **状态保持**
  - 切换到其他页面再返回
  - 快递分组状态应该保持

### 日期提取修复

- [ ] **检查日期显示**
  - 打开快递详情
  - 检查"取件日期"是否正确
  - 示例：9-6-3012 应该显示 11-05

- [ ] **检查日期分组**
  - 快递应该按正确的日期分组
  - 日期标题应该正确

### 短信读取优化

- [ ] **检查短信列表**
  - 打开短信列表页面
  - 应该能读取更多短信
  - 日志显示读取的短信数量

- [ ] **检查快递提取**
  - 快递页面应该显示更多快递
  - 应该包含所有快递公司的短信

### 其他功能

- [ ] **设置页面**
  - 打开设置页面
  - 所有选项应该可点击
  - 功能应该正常

- [ ] **短信列表**
  - 打开短信列表
  - 应该显示所有短信
  - 可以按标签分类

- [ ] **标签管理**
  - 打开标签管理
  - 应该显示所有标签
  - 可以添加/删除标签

---

## 🐛 问题排查

### 问题 1: 安装失败

**错误信息**: `INSTALL_FAILED_INVALID_APK`

**解决方案**:
1. 确保 APK 文件完整
2. 删除旧版本应用
3. 重新下载 APK

### 问题 2: 权限不足

**错误信息**: `没有短信读取权限`

**解决方案**:
1. 打开设置 > 应用 > 短信助手
2. 授予所有必要权限
3. 重启应用

### 问题 3: 应用崩溃

**错误信息**: 应用启动后立即崩溃

**解决方案**:
1. 卸载应用
2. 清空应用缓存
3. 重新安装

### 问题 4: 短信无法读取

**错误信息**: 短信列表为空

**解决方案**:
1. 确认已授予短信读取权限
2. 确认手机中有短信
3. 检查应用日志

---

## 📊 测试报告模板

### 功能测试

| 功能 | 预期结果 | 实际结果 | 状态 |
|------|---------|---------|------|
| 快递日期分组 | 按日期分组显示 | | ✅/❌ |
| 折叠/展开 | 支持折叠/展开 | | ✅/❌ |
| 复制全部 | 复制所有取件码 | | ✅/❌ |
| 全部已取 | 标记为已取 | | ✅/❌ |
| 日期提取 | 显示正确日期 | | ✅/❌ |
| 短信读取 | 读取所有短信 | | ✅/❌ |

### 性能测试

| 指标 | 预期值 | 实际值 | 状态 |
|------|--------|--------|------|
| 启动时间 | < 3s | | ✅/❌ |
| 列表滚动 | 流畅 | | ✅/❌ |
| 内存占用 | < 100MB | | ✅/❌ |
| 电池消耗 | 正常 | | ✅/❌ |

### 兼容性测试

| 设备 | Android 版本 | 状态 |
|------|-------------|------|
| 小米 | 11 | ✅/❌ |
| 华为 | 12 | ✅/❌ |
| 三星 | 13 | ✅/❌ |
| OPPO | 12 | ✅/❌ |

---

## 📞 反馈与支持

### 报告问题

如果发现问题，请提供以下信息：

1. **设备信息**
   - 手机型号
   - Android 版本
   - 应用版本

2. **问题描述**
   - 问题现象
   - 重现步骤
   - 截图或视频

3. **日志信息**
   - 应用日志
   - 系统日志

### 联系方式

- 邮箱: support@smsagent.com
- GitHub: https://github.com/smsagent/issues
- 微信: smsagent_support

---

## 📝 版本信息

### 版本 1.0.0 (2025-11-14)

**新增功能**:
- ✅ 快递日期分组显示
- ✅ 日期分组折叠/展开
- ✅ 分组操作按钮（复制全部、全部已取）
- ✅ 日期提取优化
- ✅ 短信读取优化

**修复问题**:
- ✅ 日期显示错误
- ✅ 短信读取不完整
- ✅ 权限检查不充分

**优化改进**:
- ✅ 玻璃拟态风格
- ✅ 用户界面优化
- ✅ 性能优化

---

## 🎯 后续计划

### 下一版本 (1.1.0)

- [ ] 日期标签栏快速筛选
- [ ] 设置页面优化
- [ ] 深色模式支持
- [ ] 云端备份功能

---

## ✨ 感谢使用

感谢您使用短信助手！如有任何问题或建议，欢迎反馈。

**祝您使用愉快！**

---

**最后更新**: 2025-11-14 16:30  
**下一个版本**: 2025-11-21
