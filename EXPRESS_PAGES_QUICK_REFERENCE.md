# 快递分页设计 - 快速参考

## 📁 文件清单

| 文件名 | 说明 | 主色 |
|--------|------|------|
| `express_pickup_pending.html` | 未取快递页面 | 🔵 蓝色 (#667EEA) |
| `express_pickup_picked.html` | 已取快递页面 | 🟢 绿色 (#4CAF50) |
| `express_pickup_v3_optimized.html` | 原始合并页面 | 紫色 |

## 🎯 页面功能对比

### 未取快递页面

```
┌─────────────────────────────────┐
│ 未取快递          ⚙️              │
├─────────────────────────────────┤
│ 未取 (5)  │  已取 (3)            │  ← 页签切换
├─────────────────────────────────┤
│ 今日待取件: 2件        ☐ 全选   │  ← 摘要栏
├─────────────────────────────────┤
│ 2025-11-18  2件                  │  ← 日期分组
│ 📍 郑州市北文雅小区...           │  ← 地址标题
│ ☐ 2-4-2029      ⭕              │  ← 快递卡片
│ ☐ 6-5-5011      ⭕              │
├─────────────────────────────────┤
│ 📋 批量复制  ✓ 批量取出          │  ← 操作栏
└─────────────────────────────────┘
```

**特点**:
- 当天快递默认展开
- 其他日期默认折叠
- 支持批量复制和标记为已取
- 蓝色主题

### 已取快递页面

```
┌─────────────────────────────────┐
│ 已取快递          ⚙️              │
├─────────────────────────────────┤
│ 未取 (5)  │  已取 (3)            │  ← 页签切换
├─────────────────────────────────┤
│ 已取快递: 3件          ☐ 全选   │  ← 摘要栏
├─────────────────────────────────┤
│ 2025-10-28  1件                  │  ← 日期分组
│ ✓ 郑州市北文雅小区...           │  ← 地址标题 (绿色)
│ ☐ ~~3028~~      ✓               │  ← 快递卡片 (删除线)
├─────────────────────────────────┤
│ 📋 批量复制  ↩️ 批量撤销         │  ← 操作栏
└─────────────────────────────────┘
```

**特点**:
- 所有快递默认展开
- 取件码显示删除线
- 支持批量复制和撤销标记
- 绿色主题

## 🔄 页面切换流程

### 方式1: 顶部页签

```
未取快递页面
    ↓ 点击"已取"页签
    ↓
已取快递页面
    ↓ 点击"未取"页签
    ↓
未取快递页面
```

### 方式2: 底部导航栏

```
其他页面
    ↓ 点击"快递"
    ↓
快递页面 (默认未取)
    ↓ 点击顶部页签切换
    ↓
已取快递页面
```

## 🎨 颜色方案

### 未取快递页面 (蓝色主题)

| 元素 | 颜色 | 用途 |
|------|------|------|
| 主色 | #667EEA | 按钮、图标、强调 |
| 背景浅 | rgba(102, 126, 234, 0.1) | 计数标签 |
| 背景更浅 | rgba(102, 126, 234, 0.05) | 地址标题 |
| 文字 | #333333 | 主文字 |
| 辅助文字 | #8A8A8A | 次要信息 |

### 已取快递页面 (绿色主题)

| 元素 | 颜色 | 用途 |
|------|------|------|
| 主色 | #4CAF50 | 按钮、图标、强调 |
| 背景浅 | rgba(76, 175, 80, 0.1) | 计数标签 |
| 背景更浅 | rgba(76, 175, 80, 0.05) | 地址标题 |
| 文字 | #333333 | 主文字 |
| 删除线 | #999999 | 已取取件码 |

## 📊 数据结构

```javascript
// 单条快递数据
{
    code: '2-4-2029',           // 取件码
    date: '2025-11-18',         // 取件日期
    time: '10:35',              // 取件时间
    address: '郑州市北文雅小区...', // 取件地址
    picked: false,              // 是否已取 (false=未取, true=已取)
    selected: false             // 是否被选中
}
```

## 🔧 关键函数

### 未取页面

```javascript
// 过滤未取快递
const pendingItems = items.filter(item => !item.picked);

// 标记为已取
item.picked = true;

// 批量标记为已取
selectedItems.forEach(item => item.picked = true);

// 判断是否展开
const isExpanded = date === today;
```

### 已取页面

```javascript
// 过滤已取快递
const pickedItems = items.filter(item => item.picked);

// 撤销已取标记
item.picked = false;

// 批量撤销
selectedItems.forEach(item => item.picked = false);

// 判断是否展开
const isExpanded = true;  // 全部展开
```

## 💡 使用建议

### 入口位置

#### 推荐: 底部导航栏 + 顶部页签

```
应用首页
  ↓
点击底部"快递"图标
  ↓
快递页面 (默认未取)
  ↓
通过顶部页签切换已取/未取
```

#### 优势

1. **一致性** - 与其他页面入口统一
2. **易发现** - 用户容易找到
3. **快速切换** - 页签切换无缝体验
4. **信息完整** - 同时显示两个分类的数量

### 操作流程

#### 场景1: 查看待取快递并取件

```
1. 打开应用 → 快递页面 (默认未取)
2. 查看今日待取快递 (当天默认展开)
3. 选择需要的快递 → 批量复制
4. 去取件
5. 返回 → 标记为已取
```

#### 场景2: 查看已取快递历史

```
1. 打开应用 → 快递页面
2. 点击顶部"已取"页签
3. 查看已取快递列表
4. 需要撤销 → 选择 → 批量撤销
```

#### 场景3: 快速查看统计

```
1. 打开应用 → 快递页面
2. 查看摘要栏统计数字
3. 了解待取和已取数量
```

## 🚀 集成步骤

### 步骤1: 测试 HTML 页面

```bash
# 在浏览器中打开
file:///path/to/express_pickup_pending.html
file:///path/to/express_pickup_picked.html
```

### 步骤2: 集成到 Android

```kotlin
// 在 WebView 中加载
webView.loadUrl("file:///android_asset/express_pickup_pending.html")
```

### 步骤3: 连接真实数据

```javascript
// 替换模拟数据
let items = fetchFromAndroid();  // 从 Android 获取数据
```

### 步骤4: 实现页面切换

```kotlin
// 在 Android 中实现页面切换
fun switchTab(tab: String) {
    when (tab) {
        "pending" -> webView.loadUrl("file:///android_asset/express_pickup_pending.html")
        "picked" -> webView.loadUrl("file:///android_asset/express_pickup_picked.html")
    }
}
```

## 📱 响应式设计

### 支持的屏幕尺寸

- ✅ 手机 (320px - 480px)
- ✅ 平板 (480px - 1024px)
- ✅ 桌面 (1024px+)

### 关键断点

```css
/* 手机 */
@media (max-width: 480px) {
    /* 调整布局 */
}

/* 平板 */
@media (min-width: 481px) and (max-width: 1024px) {
    /* 调整布局 */
}

/* 桌面 */
@media (min-width: 1025px) {
    /* 调整布局 */
}
```

## ❓ 常见问题

### Q: 两个页面如何共享数据?

A: 使用全局变量 `items` 数组，通过 `picked` 字段区分状态。

### Q: 如何实现实时同步?

A: 在标记为已取/撤销时，直接修改 `items` 数组，然后调用 `renderItems()` 重新渲染。

### Q: 如何与 Android 通信?

A: 使用 JavaScript Bridge，通过 `window.android.xxx()` 调用 Android 方法。

### Q: 如何处理网络错误?

A: 添加错误处理逻辑，显示错误提示，允许用户重试。

### Q: 如何支持离线模式?

A: 使用 LocalStorage 缓存数据，离线时从缓存读取。

## 📞 技术支持

如有问题，请参考:
- `EXPRESS_SPLIT_PAGES_DESIGN.md` - 详细设计文档
- `express_pickup_v3_optimized.html` - 原始设计参考

