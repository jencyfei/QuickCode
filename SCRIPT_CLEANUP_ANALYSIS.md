# ğŸ“‹ é¡¹ç›®è„šæœ¬å’Œæ–‡ä»¶æ¸…ç†åˆ†ææŠ¥å‘Š

**åˆ†ææ—¥æœŸ**: 2025-11-21  
**åˆ†æèŒƒå›´**: .py, .bat, .ps1, .apk æ–‡ä»¶

---

## ğŸ“Š æ–‡ä»¶ç»Ÿè®¡

### å„ç±»æ–‡ä»¶ç»Ÿè®¡
- **.py æ–‡ä»¶**: 42 ä¸ª
- **.bat æ–‡ä»¶**: 20 ä¸ª
- **.ps1 æ–‡ä»¶**: 2 ä¸ª
- **.apk æ–‡ä»¶**: 19 ä¸ª

---

## ğŸ—‘ï¸ å»ºè®®åˆ é™¤çš„æ–‡ä»¶

### 1. .apk æ–‡ä»¶ï¼ˆ19ä¸ªï¼‰âœ… **å¼ºçƒˆå»ºè®®åˆ é™¤æ‰€æœ‰æ—§ç‰ˆæœ¬**

**åŸå› **: APK æ–‡ä»¶æ˜¯æ„å»ºäº§ç‰©ï¼Œåº”è¯¥åªä¿ç•™æœ€æ–°ç‰ˆæœ¬ï¼Œæ—§ç‰ˆæœ¬å ç”¨å¤§é‡ç©ºé—´

**å»ºè®®åˆ é™¤**:
- âŒ `app-release-20251114-v3.apk`
- âŒ `app-release-20251117.apk`
- âŒ `app-release-20251117-fixed.apk`
- âŒ `app-release-20251117-v2-fixed.apk`
- âŒ `app-release-20251117-v3-final.apk`
- âŒ `app-release-20251117-v4-final.apk`
- âŒ `app-release-20251117-v5-final.apk`
- âŒ `app-release-20251117-final.apk`
- âŒ `app-release-20251118-android-redesign.apk`
- âŒ `app-release-20251118-date-fix.apk`
- âŒ `app-release-20251118-debug.apk`
- âŒ `app-release-20251118-logging.apk`
- âŒ `app-release-20251119-express-v2.apk`
- âŒ `app-release-20251120-shadow-fix.apk`
- âŒ `app-release-android-v3-optimized.apk`
- âŒ `app-release-v3-android-optimized.apk`
- âŒ `app-release-v3-with-logviewer.apk`
- âŒ `app-release-with-logging.apk`

**å»ºè®®ä¿ç•™**ï¼ˆå¦‚æœæ˜¯æœ€æ–°ç‰ˆæœ¬ï¼‰:
- âœ… `app-release-20251120-v1.3-search-input-fix.apk`ï¼ˆæœ€æ–°çš„ï¼Œ2025/11/20 15:47ï¼‰

**æ³¨æ„**: APK æ–‡ä»¶åº”è¯¥åœ¨ `android/app/build/outputs/apk/release/` ç›®å½•ä¸­ï¼Œæ ¹ç›®å½•çš„ APK æ–‡ä»¶éƒ½æ˜¯å†å²æ„å»ºäº§ç‰©

---

### 2. .py æ–‡ä»¶ï¼ˆ9ä¸ªï¼‰âœ… **å¯åˆ é™¤ - æµ‹è¯•å’Œå·¥å…·è„šæœ¬**

**å¯¹é¡¹ç›®è¿è¡Œæ— ç”¨çš„æµ‹è¯•/å·¥å…·è„šæœ¬**:

#### æ ¹ç›®å½•å·¥å…·è„šæœ¬ï¼ˆ3ä¸ªï¼‰
- âŒ `æ‰“æ ‡åˆ¤æ–­.py` - ç‹¬ç«‹çš„çŸ­ä¿¡åˆ†ç±»å·¥å…·ï¼Œåç«¯å·²æœ‰å®Œæ•´çš„åˆ†ç±»æœåŠ¡
- âŒ `generate_app_icon.py` - å›¾æ ‡ç”Ÿæˆè„šæœ¬ï¼Œå›¾æ ‡å·²ç”Ÿæˆå®Œæˆ
- âŒ `generate_foreground_icon.py` - å‰æ™¯å›¾æ ‡ç”Ÿæˆè„šæœ¬ï¼Œå·²ç”Ÿæˆå®Œæˆ

#### backend ç›®å½•æµ‹è¯•/è¯Šæ–­è„šæœ¬ï¼ˆ6ä¸ªï¼‰
- âŒ `backend/test_api.py` - API æµ‹è¯•è„šæœ¬ï¼Œå¯¹è¿è¡Œä¸æ˜¯å¿…éœ€çš„
- âŒ `backend/test_classifier.py` - åˆ†ç±»å™¨æµ‹è¯•è„šæœ¬
- âŒ `backend/test_db_connection.py` - æ•°æ®åº“è¿æ¥æµ‹è¯•è„šæœ¬
- âŒ `backend/test_real_sms.py` - çœŸå®çŸ­ä¿¡æµ‹è¯•è„šæœ¬
- âŒ `backend/test_rule_engine.py` - è§„åˆ™å¼•æ“æµ‹è¯•è„šæœ¬
- âŒ `backend/diagnose_specific_tag.py` - æ ‡ç­¾è¯Šæ–­è„šæœ¬
- âŒ `backend/diagnose_tag_count.py` - æ ‡ç­¾è®¡æ•°è¯Šæ–­è„šæœ¬
- âŒ `backend/clean_duplicate_tags.py` - æ¸…ç†é‡å¤æ ‡ç­¾è„šæœ¬

#### scripts ç›®å½•å·¥å…·è„šæœ¬ï¼ˆéœ€ä¿ç•™ï¼Œå¯èƒ½æœ‰ç”¨ï¼‰
- âš ï¸ `scripts/init_db.py` - **ä¿ç•™**ï¼Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼Œå¯èƒ½è¿˜éœ€è¦
- âš ï¸ `scripts/test_db_connection.py` - **å¯ä¿ç•™**ï¼Œç”¨äºæµ‹è¯•æ•°æ®åº“è¿æ¥
- âš ï¸ `scripts/test_auth.py` - **å¯ä¿ç•™**ï¼Œç”¨äºæµ‹è¯•è®¤è¯åŠŸèƒ½
- âš ï¸ `scripts/debug_jwt.py` - **å¯ä¿ç•™**ï¼Œç”¨äºè°ƒè¯• JWT

---

### 3. .bat æ–‡ä»¶ï¼ˆ13ä¸ªï¼‰âœ… **å¯åˆ é™¤ - å·²å®Œæˆçš„æ¸…ç†å’Œæ„å»ºè„šæœ¬**

**å¯¹é¡¹ç›®è¿è¡Œæ— ç”¨çš„è„šæœ¬**:

#### æ¸…ç†è„šæœ¬ï¼ˆ5ä¸ªï¼‰
- âŒ `cleanup.bat` - æ¸…ç†è„šæœ¬ï¼Œå·²ç»æ‰§è¡Œè¿‡
- âŒ `cleanup_simple.bat` - ç®€å•æ¸…ç†è„šæœ¬
- âŒ `cleanup_phase2.bat` - ç¬¬äºŒé˜¶æ®µæ¸…ç†è„šæœ¬
- âŒ `cleanup_phase2_simple.bat` - ç¬¬äºŒé˜¶æ®µç®€å•æ¸…ç†è„šæœ¬

#### é¢„è§ˆå’Œè¯Šæ–­è„šæœ¬ï¼ˆ2ä¸ªï¼‰
- âŒ `OPEN_PREVIEWS.bat` - æ‰“å¼€ HTML é¢„è§ˆæ–‡ä»¶ï¼ŒHTML æ–‡ä»¶å·²åˆ é™¤
- âŒ `diagnose.bat` - è¯Šæ–­è„šæœ¬ï¼Œé—®é¢˜å·²è§£å†³

#### Git æ“ä½œè„šæœ¬ï¼ˆ1ä¸ªï¼‰
- âŒ `PUSH_TO_GITHUB.bat` - Git æ¨é€è„šæœ¬ï¼Œå¯ç›´æ¥ç”¨ git å‘½ä»¤

#### å·²å®Œæˆçš„æ„å»ºè„šæœ¬ï¼ˆ1ä¸ªï¼‰
- âŒ `BUILD_APK_COMPLETE.bat` - æ„å»ºå®Œæˆè„šæœ¬ï¼Œå·²å®Œæˆ

#### æœªä½¿ç”¨çš„æ„å»ºè„šæœ¬ï¼ˆ2ä¸ªï¼‰
- âŒ `build_capacitor_apk.bat` - Capacitor æ„å»ºè„šæœ¬ï¼ˆå¦‚æœä¸ç”¨ Capacitorï¼‰
- âŒ `build_web_apk.bat` - Web APK æ„å»ºè„šæœ¬ï¼ˆå¦‚æœä¸ç”¨ï¼‰

#### frontend ç›®å½•æ„å»ºè„šæœ¬ï¼ˆ1ä¸ªï¼‰
- âŒ `frontend/build_apk.bat` - å‰ç«¯æ„å»º APK è„šæœ¬ï¼ˆå¦‚æœä¸ç”¨ï¼‰

**å»ºè®®ä¿ç•™çš„ .bat æ–‡ä»¶**:
- âœ… `android/gradlew.bat` - **å¿…éœ€**ï¼ŒGradle Wrapperï¼ŒAndroid æ„å»ºå¿…éœ€
- âœ… `android/gradlew.bat` (frontend/android/) - **å¿…éœ€**ï¼Œå¦‚æœä½¿ç”¨å‰ç«¯ Android æ„å»º
- âœ… `QUICK_BUILD_APK.bat` - **ä¿ç•™**ï¼Œå¿«é€Ÿæ„å»º APK è„šæœ¬ï¼Œå¯èƒ½è¿˜éœ€è¦
- âœ… `android/build_apk.bat` - **ä¿ç•™**ï¼ŒAndroid APK æ„å»ºè„šæœ¬
- âœ… `restart_services.bat` - **ä¿ç•™**ï¼Œé‡å¯æœåŠ¡è„šæœ¬ï¼Œå¯èƒ½è¿˜éœ€è¦
- âœ… `stop_services.bat` - **ä¿ç•™**ï¼Œåœæ­¢æœåŠ¡è„šæœ¬ï¼Œå¯èƒ½è¿˜éœ€è¦
- âœ… `setup_env.bat` - **ä¿ç•™**ï¼Œç¯å¢ƒè®¾ç½®è„šæœ¬ï¼Œå¯èƒ½è¿˜éœ€è¦
- âœ… `android/setup_gradle.bat` - **ä¿ç•™**ï¼ŒGradle è®¾ç½®è„šæœ¬
- âœ… `android/cleanup_png_icons.bat` - **ä¿ç•™**ï¼Œå›¾æ ‡æ¸…ç†è„šæœ¬ï¼Œå¯èƒ½è¿˜éœ€è¦

---

### 4. .ps1 æ–‡ä»¶ï¼ˆ2ä¸ªï¼‰âœ… **å¯åˆ é™¤**

- âŒ `cleanup_phase2.ps1` - æ¸…ç†è„šæœ¬ï¼Œå·²ç»æ‰§è¡Œè¿‡
- âŒ `Build-CapacitorAPK.ps1` - Capacitor APK æ„å»ºè„šæœ¬ï¼ˆå¦‚æœä¸ç”¨ Capacitorï¼‰

---

## âœ… å¿…éœ€ä¿ç•™çš„æ–‡ä»¶

### .py æ–‡ä»¶ï¼ˆå¿…éœ€ï¼Œå¯¹é¡¹ç›®è¿è¡Œæœ‰ç”¨ï¼‰
- âœ… `backend/app/**/*.py` - **å…¨éƒ¨ä¿ç•™**ï¼Œåç«¯æ ¸å¿ƒä»£ç 
- âœ… `scripts/init_db.py` - **ä¿ç•™**ï¼Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

### .bat æ–‡ä»¶ï¼ˆå¿…éœ€ï¼Œå¯¹é¡¹ç›®è¿è¡Œæœ‰ç”¨ï¼‰
- âœ… `android/gradlew.bat` - **å¿…éœ€**ï¼ŒGradle Wrapper
- âœ… `QUICK_BUILD_APK.bat` - **ä¿ç•™**ï¼Œå¿«é€Ÿæ„å»ºè„šæœ¬
- âœ… `android/build_apk.bat` - **ä¿ç•™**ï¼ŒAndroid æ„å»ºè„šæœ¬
- âœ… `restart_services.bat` - **ä¿ç•™**ï¼ŒæœåŠ¡ç®¡ç†è„šæœ¬
- âœ… `stop_services.bat` - **ä¿ç•™**ï¼ŒæœåŠ¡ç®¡ç†è„šæœ¬
- âœ… `setup_env.bat` - **ä¿ç•™**ï¼Œç¯å¢ƒè®¾ç½®è„šæœ¬

---

## ğŸ“‹ åˆ é™¤ä¼˜å…ˆçº§

### ä¼˜å…ˆçº§ 1ï¼ˆç«‹å³åˆ é™¤ï¼‰âœ…
1. **æ‰€æœ‰æ—§çš„ APK æ–‡ä»¶**ï¼ˆ17ä¸ªï¼‰- å ç”¨å¤§é‡ç©ºé—´ï¼Œåªä¿ç•™æœ€æ–°ç‰ˆæœ¬
2. **æ¸…ç†è„šæœ¬**ï¼ˆcleanup*.bat, cleanup*.ps1ï¼‰- å·²å®Œæˆä»»åŠ¡
3. **è¯Šæ–­è„šæœ¬**ï¼ˆdiagnose*.py, diagnose.batï¼‰- é—®é¢˜å·²è§£å†³

### ä¼˜å…ˆçº§ 2ï¼ˆå¯è€ƒè™‘åˆ é™¤ï¼‰âš ï¸
1. **æµ‹è¯•è„šæœ¬**ï¼ˆtest_*.pyï¼‰- å¯¹è¿è¡Œä¸æ˜¯å¿…éœ€çš„ï¼Œä½†å¯èƒ½ç”¨äºæµ‹è¯•
2. **å·¥å…·è„šæœ¬**ï¼ˆgenerate_*.py, æ‰“æ ‡åˆ¤æ–­.pyï¼‰- ä»»åŠ¡å·²å®Œæˆ
3. **æœªä½¿ç”¨çš„æ„å»ºè„šæœ¬**ï¼ˆbuild_capacitor_apk.bat, build_web_apk.batï¼‰- å¦‚æœä¸ç”¨ç›¸å…³æŠ€æœ¯

### ä¼˜å…ˆçº§ 3ï¼ˆé€‰æ‹©æ€§ä¿ç•™ï¼‰ğŸ“¦
1. **æœåŠ¡ç®¡ç†è„šæœ¬**ï¼ˆrestart_services.bat, stop_services.bat, setup_env.batï¼‰- å¦‚æœè¿˜åœ¨ä½¿ç”¨
2. **Git æ“ä½œè„šæœ¬**ï¼ˆPUSH_TO_GITHUB.batï¼‰- å¦‚æœä¹ æƒ¯ç”¨è„šæœ¬è€Œä¸æ˜¯ç›´æ¥å‘½ä»¤

---

## ğŸ¯ æ¸…ç†åçš„é¢„æœŸæ•ˆæœ

### æ–‡ä»¶æ•°é‡
- **APK æ–‡ä»¶**: 19 â†’ 1 (å‡å°‘ 94.7%)
- **.bat æ–‡ä»¶**: 20 â†’ 7 (å‡å°‘ 65%)
- **.ps1 æ–‡ä»¶**: 2 â†’ 0 (å‡å°‘ 100%)
- **.py æ–‡ä»¶**: 42 â†’ 33 (å‡å°‘ 21.4%)
- **æ€»åˆ é™¤**: çº¦ 43 ä¸ªæ–‡ä»¶

### ç©ºé—´èŠ‚çœ
- **APK æ–‡ä»¶**: çº¦ 200MBï¼ˆæ¯ä¸ª APK çº¦ 11MBï¼‰
- **è„šæœ¬æ–‡ä»¶**: çº¦ 1MB

---

## ğŸ“ æ‰§è¡Œå»ºè®®

### åˆ é™¤å‘½ä»¤ï¼ˆPowerShellï¼‰

```powershell
# 1. åˆ é™¤æ‰€æœ‰æ—§ APK æ–‡ä»¶ï¼ˆä¿ç•™æœ€æ–°çš„ï¼‰
Get-ChildItem -Path . -Filter "*.apk" -File | Where-Object { 
    $_.Name -ne "app-release-20251120-v1.3-search-input-fix.apk" 
} | Remove-Item -Verbose

# 2. åˆ é™¤æ¸…ç†è„šæœ¬
Remove-Item -Path "cleanup.bat","cleanup_simple.bat","cleanup_phase2.bat","cleanup_phase2_simple.bat","cleanup_phase2.ps1" -Verbose

# 3. åˆ é™¤è¯Šæ–­å’Œé¢„è§ˆè„šæœ¬
Remove-Item -Path "diagnose.bat","OPEN_PREVIEWS.bat" -Verbose

# 4. åˆ é™¤å·¥å…·è„šæœ¬
Remove-Item -Path "æ‰“æ ‡åˆ¤æ–­.py","generate_app_icon.py","generate_foreground_icon.py" -Verbose

# 5. åˆ é™¤æµ‹è¯•è„šæœ¬
Remove-Item -Path "backend/test_*.py","backend/diagnose_*.py","backend/clean_duplicate_tags.py" -Verbose

# 6. åˆ é™¤æœªä½¿ç”¨çš„æ„å»ºè„šæœ¬ï¼ˆå¯é€‰ï¼‰
Remove-Item -Path "build_capacitor_apk.bat","build_web_apk.bat","Build-CapacitorAPK.ps1","frontend/build_apk.bat" -Verbose

# 7. åˆ é™¤å…¶ä»–ä¸éœ€è¦çš„è„šæœ¬
Remove-Item -Path "PUSH_TO_GITHUB.bat","BUILD_APK_COMPLETE.bat" -Verbose
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦åˆ é™¤**
   - `backend/app/**/*.py` - åç«¯æ ¸å¿ƒä»£ç 
   - `android/gradlew.bat` - Gradle Wrapper
   - `scripts/init_db.py` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

2. **è°¨æ…åˆ é™¤**
   - æµ‹è¯•è„šæœ¬ï¼ˆtest_*.pyï¼‰- å¦‚æœè¿˜éœ€è¦æµ‹è¯•åŠŸèƒ½
   - æœåŠ¡ç®¡ç†è„šæœ¬ï¼ˆrestart_services.bat ç­‰ï¼‰- å¦‚æœè¿˜åœ¨ä½¿ç”¨

3. **å»ºè®®**
   - APK æ–‡ä»¶å¯ä»¥ç§»åŠ¨åˆ° `releases/` ç›®å½•å½’æ¡£ï¼Œè€Œä¸æ˜¯åˆ é™¤
   - åˆ é™¤å‰å…ˆæäº¤åˆ° Gitï¼Œæ–¹ä¾¿å›é€€

---

**æœ€åæ›´æ–°**: 2025-11-21  
**åˆ†æå®Œæˆ**: âœ…

