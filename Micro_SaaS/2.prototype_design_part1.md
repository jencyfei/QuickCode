# DataViz Insights 原型设计方案 - 阶段1前期

**文档版本**: 1.0  
**创建日期**: 2025年11月17日  
**阶段**: 原型设计与架构规划  
**目标**: 完成Figma原型设计 + 技术栈搭建（2周）

---

## 1. 设计目标

### 1.1 核心目标
- 完成5个关键页面的高保真原型（Figma）
- 确保响应式设计（PC 1920px + 手机 375px）
- 验证用户流程的可用性
- 为开发团队提供清晰的设计规范

### 1.2 设计原则
- **简约**: 首页仅一个上传按钮，减少认知负担
- **渐进式**: 新用户引导 → 模板选择 → 数据上传 → 结果查看
- **反馈**: 实时预览、加载动画、错误提示
- **跨端**: PC深度编辑，手机快速浏览

---

## 2. 页面流程架构

### 2.1 用户旅程地图

```
未登录用户
    ↓
[登录/注册页] ← OAuth/邮箱注册
    ↓
[首页/Dashboard] ← 历史分析 + 模板库入口
    ↓
[选择模板或新建] ← 行业模板（抖音/外卖）或自定义
    ↓
[数据上传页] ← 拖拽上传 + AI建议
    ↓
[结果展示页] ← 图表 + Insights + 导出
    ↓
[分享/订阅] ← 分享链接 + 升级提示
```

### 2.2 页面清单

| 页面 | 优先级 | PC功能 | 手机功能 | 备注 |
|------|--------|--------|---------|------|
| 登录/注册 | 🔴 P0 | 邮箱+OAuth | 简化表单 | 首次进入 |
| Dashboard | 🔴 P0 | 历史列表+模板库 | 卡片式列表 | 核心入口 |
| 模板选择 | 🔴 P0 | 分类浏览+预览 | 下拉菜单 | 指导用户 |
| 数据上传 | 🔴 P0 | 拖拽+代码编辑器 | 文件选择+语音 | 核心功能 |
| 结果展示 | 🔴 P0 | 左图右insights | 垂直布局 | 核心功能 |

---

## 3. 关键页面设计

### 3.1 登录/注册页

**设计规范**: 左侧品牌 + 右侧表单（PC）；全屏表单（手机）

**PC布局** (1920px):
```
┌─────────────────────────────────────────────────────┐
│  DataViz Insights                                   │
│  左侧 (50%)          │         右侧 (50%)           │
│  ┌─────────────┐    │    ┌──────────────────┐      │
│  │ 品牌Logo    │    │    │ 邮箱输入框       │      │
│  │ "数据分析   │    │    │ 密码输入框       │      │
│  │  从未如此   │    │    │ [登录] [注册]    │      │
│  │  简单"      │    │    │ ─────────────── │      │
│  │             │    │    │ Google登录       │      │
│  │ 特性列表    │    │    │ 微信登录         │      │
│  │ ✓ 一键分析  │    │    │                  │      │
│  │ ✓ AI建议    │    │    │ 忘记密码?        │      │
│  │ ✓ 模板库    │    │    │                  │      │
│  └─────────────┘    │    └──────────────────┘      │
└─────────────────────────────────────────────────────┘
```

**交互设计**:
- 邮箱输入时实时验证格式
- 密码强度指示器（弱/中/强）
- OAuth按钮支持Google/微信
- 加载状态显示旋转图标

---

### 3.2 Dashboard页（首页）

**设计规范**: 顶部导航 + 历史卡片 + 模板库

**PC布局** (1920px):
```
┌─────────────────────────────────────────────────────┐
│ 🏠 Dashboard  |  📊 分析  |  ⚙️ 设置  |  👤 用户    │
├─────────────────────────────────────────────────────┤
│  欢迎回来，张三！👋                                 │
│  ┌───────────────────────────────────────────────┐ │
│  │ [+ 新建分析]  [🎯 选择模板]  [📚 模板库]     │ │
│  └───────────────────────────────────────────────┘ │
│                                                     │
│  📌 最近分析                                        │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────┐ │
│  │ 抖音销售分析 │  │ 外卖订单分析 │  │ 用户行为 │ │
│  │ 2025-11-16  │  │ 2025-11-15  │  │ 分析     │ │
│  │ 5个指标     │  │ 3个指标     │  │ 2025-11-│ │
│  │ [编辑][删除] │  │ [编辑][删除] │  │ 14      │ │
│  └──────────────┘  └──────────────┘  └──────────┘ │
│                                                     │
│  🎯 推荐模板                                        │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────┐ │
│  │ 抖音电商     │  │ 外卖平台     │  │ 社交媒体 │ │
│  │ GMV/转化率   │  │ 订单/配送    │  │ 互动率   │ │
│  │ [使用]       │  │ [使用]       │  │ [使用]   │ │
│  └──────────────┘  └──────────────┘  └──────────┘ │
└─────────────────────────────────────────────────────┘
```

**交互设计**:
- 历史卡片支持拖拽排序（PC）
- 鼠标悬停显示编辑/删除按钮
- 模板卡片点击预览详情
- 搜索框实时过滤历史分析

---

### 3.3 数据上传页

**设计规范**: 左侧拖拽区 + 右侧指标编辑器（PC）

**PC布局** (1920px):
```
┌──────────────────────┐  ┌──────────────────────┐
│ 📁 上传数据文件      │  │ 📝 定义指标          │
│ ┌──────────────────┐ │  │ ┌──────────────────┐ │
│ │ 拖拽CSV/JSON文件 │ │  │ │ 指标1:           │ │
│ │ 或点击选择       │ │  │ │ SUM(sales_amount)│ │
│ │ [选择文件]       │ │  │ │                  │ │
│ └──────────────────┘ │  │ │ 指标2:           │ │
│                      │  │ │ COUNT(order_id)  │ │
│ 已选文件:            │  │ │                  │ │
│ sales_data.csv       │  │ │ [+ 添加指标]     │ │
│ (2.5 MB, 1000行)     │  │ │                  │ │
│                      │  │ │ 🤖 AI建议:       │ │
│ 表结构预览:          │  │ │ • 转化率         │ │
│ • order_id (int)     │  │ │ • 客单价         │ │
│ • sales_amount       │  │ │ [应用建议]       │ │
│ • date (date)        │  │ │                  │ │
│ • category (str)     │  │ └──────────────────┘ │
│                      │  │                      │
│ [预览] [分析]        │  │ [预览] [分析]        │
└──────────────────────┘  └──────────────────────┘
```

**交互设计**:
- 拖拽文件到上传区自动上传
- 文件上传后实时显示表结构预览
- 指标编辑器支持语法高亮 + 自动完成
- AI建议按钮触发GPT分析

---

### 3.4 结果展示页

**设计规范**: 左侧图表 + 右侧insights（PC）

**PC布局** (1920px):
```
┌──────────────────────┐  ┌──────────────────────┐
│ 📈 销售趋势          │  │ 📊 关键指标          │
│ ┌──────────────────┐ │  │ 总销售额: ¥125,000  │
│ │ 折线图           │ │  │ 平均客单价: ¥250    │
│ │ (时间序列)       │ │  │ 转化率: 3.2%        │
│ │ Y轴: 销售额      │ │  │ 订单数: 500         │
│ │ X轴: 日期        │ │  │                      │
│ │ 数据点: 30       │ │  │ 📌 AI Insights      │
│ │ (交互: 悬停、    │ │  │ 📍 趋势分析:        │
│ │  缩放、下载)     │ │  │ 销售呈上升趋势,     │
│ │                  │ │  │ 近7天增长15%。      │
│ │                  │ │  │                      │
│ │                  │ │  │ 📍 异常检测:        │
│ │                  │ │  │ 11月15日销售下降    │
│ │                  │ │  │ 30%,建议检查营销    │
│ │                  │ │  │ 活动。              │
│ │                  │ │  │                      │
│ │                  │ │  │ 📍 建议:            │
│ │                  │ │  │ 1. 优化内容质量    │
│ │                  │ │  │ 2. 增加投放预算    │
│ │                  │ │  │ 3. A/B测试新文案   │
│ └──────────────────┘ │  │                      │
└──────────────────────┘  └──────────────────────┘
```

**交互设计**:
- 图表支持悬停显示数值、缩放、下载
- Insights支持展开/收起
- 导出按钮下拉菜单（PDF、PNG、CSV）
- 分享按钮生成链接

---

## 4. 设计系统规范

### 4.1 色彩系统

**主色系**:
- 主色: #6366F1 (Indigo 600)
- 辅色: #EC4899 (Pink 500)
- 成功: #10B981 (Emerald 500)
- 警告: #F59E0B (Amber 500)
- 错误: #EF4444 (Red 500)

**中性色**:
- 背景: #FFFFFF (White)
- 表面: #F9FAFB (Gray 50)
- 边框: #E5E7EB (Gray 200)
- 文字: #111827 (Gray 900)

### 4.2 排版系统

**字体**:
- 标题: Poppins Bold (32px/28px/24px/20px)
- 正文: Inter Regular (16px/14px/12px)
- 代码: Fira Code Regular (13px)

**间距**: XS(4px) / SM(8px) / MD(16px) / LG(24px) / XL(32px)

### 4.3 响应式断点

- **Desktop**: 1920px (PC优先)
- **Tablet**: 768px
- **Mobile**: 375px (手机优先)

---

## 5. Figma原型任务清单

### 5.1 第1周任务

- [ ] 创建Figma项目 + 设计系统库
- [ ] 完成登录/注册页高保真设计
- [ ] 完成Dashboard页高保真设计
- [ ] 完成模板选择页高保真设计
- [ ] 建立组件库（按钮、输入框、卡片等）

### 5.2 第2周任务

- [ ] 完成数据上传页高保真设计
- [ ] 完成结果展示页高保真设计
- [ ] 添加交互原型（页面跳转、动画）
- [ ] 生成设计规范文档（Figma Specs）
- [ ] 导出设计资源（图标、颜色、字体）

---

## 6. 技术栈搭建方案

### 6.1 前端技术栈

**核心框架**:
- React 18.x + TypeScript
- Vite (构建工具，比Webpack快10倍)
- TailwindCSS (样式框架)
- shadcn/ui (组件库)

**图表库**:
- Recharts (React原生，推荐) 或 Plotly.js
- 支持交互、导出、响应式

**状态管理**:
- Zustand (轻量级，推荐) 或 Redux Toolkit

**HTTP客户端**:
- Axios + React Query

**部署**:
- Vercel (推荐，自动部署) 或 Netlify

### 6.2 后端技术栈

**框架**:
- Python 3.11 + FastAPI (异步、性能好)
- 或 Flask (简单快速)

**数据处理**:
- Pandas (数据处理)
- NumPy (数值计算)
- Scikit-learn (图表推荐规则引擎)

**AI/LLM**:
- OpenAI GPT-4 (insights生成)
- LangChain (LLM框架)

**数据库**:
- PostgreSQL (关系型，推荐)
- Redis (缓存)

**部署**:
- Docker + AWS Lambda 或 Railway

### 6.3 项目结构

```
dataviz-insights/
├── frontend/
│   ├── src/
│   │   ├── components/      # React组件
│   │   ├── pages/           # 页面
│   │   ├── hooks/           # 自定义Hook
│   │   ├── stores/          # Zustand状态
│   │   ├── services/        # API调用
│   │   ├── utils/           # 工具函数
│   │   ├── styles/          # TailwindCSS
│   │   └── App.tsx
│   ├── public/
│   ├── package.json
│   ├── vite.config.ts
│   └── tsconfig.json
│
├── backend/
│   ├── app/
│   │   ├── main.py          # FastAPI入口
│   │   ├── models/          # 数据模型
│   │   ├── routers/         # API路由
│   │   ├── services/        # 业务逻辑
│   │   ├── schemas/         # Pydantic模型
│   │   └── utils/           # 工具函数
│   ├── tests/
│   ├── requirements.txt
│   ├── Dockerfile
│   └── .env.example
│
├── docs/
│   ├── API.md               # API文档
│   ├── DESIGN.md            # 设计规范
│   └── DEPLOYMENT.md        # 部署指南
│
└── README.md
```

---

## 7. 开发流程

### 7.1 第1周（原型设计）

**Figma设计**:
- 创建设计系统库
- 完成5个页面高保真设计
- 建立组件库
- 生成设计规范

**技术准备**:
- 搭建前端项目骨架（React + Vite + TailwindCSS）
- 搭建后端项目骨架（FastAPI）
- 配置开发环境（Docker、Git）
- 编写API文档（Swagger）

### 7.2 第2周（核心功能开发）

**前端**:
- 实现登录/注册页
- 实现Dashboard页
- 实现数据上传页
- 集成API调用

**后端**:
- 实现用户认证API
- 实现数据上传API
- 实现数据处理引擎
- 实现图表推荐规则

---

## 8. 下一步行动

### 立即行动（本周）

1. **创建Figma项目**
   - 链接: https://figma.com
   - 创建团队项目 "DataViz Insights"
   - 邀请设计师/开发者

2. **搭建前端项目**
   ```bash
   npm create vite@latest dataviz-frontend -- --template react-ts
   cd dataviz-frontend
   npm install -D tailwindcss postcss autoprefixer
   npx tailwindcss init -p
   ```

3. **搭建后端项目**
   ```bash
   mkdir dataviz-backend
   cd dataviz-backend
   python -m venv venv
   source venv/bin/activate  # Windows: venv\Scripts\activate
   pip install fastapi uvicorn pandas numpy scikit-learn
   ```

4. **初始化Git仓库**
   ```bash
   git init
   git add .
   git commit -m "Initial commit: project setup"
   ```

### 本周完成目标

- [ ] Figma原型设计完成（5个页面）
- [ ] 前端项目骨架搭建完成
- [ ] 后端项目骨架搭建完成
- [ ] API文档初稿完成
- [ ] 开发环境配置完成

---

## 9. 参考资源

**设计工具**:
- Figma: https://figma.com
- Figma UI Kit: https://www.figma.com/community

**前端框架**:
- React: https://react.dev
- TailwindCSS: https://tailwindcss.com
- shadcn/ui: https://ui.shadcn.com

**后端框架**:
- FastAPI: https://fastapi.tiangolo.com
- Pandas: https://pandas.pydata.org

**图表库**:
- Recharts: https://recharts.org
- Plotly: https://plotly.com

**部署**:
- Vercel: https://vercel.com
- Railway: https://railway.app
- AWS Lambda: https://aws.amazon.com/lambda

---

**下一步**: 确认是否需要深入某个具体模块（如API设计、数据库设计等）
